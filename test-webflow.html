<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Webflow Test Page - ChatKit Widget</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      line-height: 1.6;
      color: #333;
    }

    /* Header */
    header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 2rem 0;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    .header-content {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      font-size: 1.5rem;
      font-weight: bold;
    }

    nav a {
      color: white;
      text-decoration: none;
      margin-left: 2rem;
      transition: opacity 0.3s;
    }

    nav a:hover {
      opacity: 0.8;
    }

    /* Hero Section */
    .hero {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 6rem 2rem;
      text-align: center;
    }

    .hero h1 {
      font-size: 3rem;
      margin-bottom: 1rem;
    }

    .hero p {
      font-size: 1.25rem;
      margin-bottom: 2rem;
      opacity: 0.9;
    }

    .cta-button {
      background: white;
      color: #667eea;
      padding: 1rem 2rem;
      border-radius: 8px;
      text-decoration: none;
      font-weight: bold;
      display: inline-block;
      transition: transform 0.3s;
    }

    .cta-button:hover {
      transform: translateY(-2px);
    }

    /* Content Sections */
    .section {
      max-width: 1200px;
      margin: 0 auto;
      padding: 4rem 2rem;
    }

    .section h2 {
      font-size: 2rem;
      margin-bottom: 2rem;
      color: #333;
    }

    .features {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }

    .feature-card {
      background: #f8f9fa;
      padding: 2rem;
      border-radius: 12px;
      transition: transform 0.3s, box-shadow 0.3s;
    }

    .feature-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    }

    .feature-card h3 {
      font-size: 1.5rem;
      margin-bottom: 1rem;
      color: #667eea;
    }

    .feature-card p {
      color: #666;
    }

    /* Footer */
    footer {
      background: #2d3748;
      color: white;
      padding: 3rem 2rem;
      margin-top: 4rem;
    }

    .footer-content {
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
    }

    .footer-section h3 {
      margin-bottom: 1rem;
    }

    .footer-section a {
      color: #a0aec0;
      text-decoration: none;
      display: block;
      margin-bottom: 0.5rem;
      transition: color 0.3s;
    }

    .footer-section a:hover {
      color: white;
    }

    /* Instructions Banner */
    .instructions {
      background: #fff3cd;
      border: 2px solid #ffc107;
      padding: 1rem 2rem;
      margin: 2rem;
      border-radius: 8px;
    }

    .instructions h3 {
      color: #856404;
      margin-bottom: 0.5rem;
    }

    .instructions p {
      color: #856404;
      margin-bottom: 0.5rem;
    }

    .instructions code {
      background: #ffeaa7;
      padding: 0.2rem 0.5rem;
      border-radius: 4px;
      font-family: 'Courier New', monospace;
    }
  </style>
</head>
<body>
  <!-- Instructions Banner -->
  <div class="instructions">
    <h3>Local Testing Instructions</h3>
    <p><strong>1.</strong> Start your Next.js dev server: <code>npm run dev</code></p>
    <p><strong>2.</strong> Open this file in your browser (you may need to use a local server like <code>python3 -m http.server 8000</code> or VS Code Live Server to avoid CORS issues)</p>
    <p><strong>3.</strong> Click the chat bubble in the bottom-right corner to test the widget</p>
    <p><strong>Note:</strong> The iframe loads from <code>http://localhost:3000</code> - make sure your Next.js app is running!</p>
  </div>

  <!-- Header -->
  <header>
    <div class="header-content">
      <div class="logo">Your Brand</div>
      <nav>
        <a href="#features">Features</a>
        <a href="#about">About</a>
        <a href="#contact">Contact</a>
      </nav>
    </div>
  </header>

  <!-- Hero Section -->
  <section class="hero">
    <h1>Welcome to Your Webflow Site</h1>
    <p>Test your ChatKit widget integration with this local replica</p>
    <a href="#features" class="cta-button">Get Started</a>
  </section>

  <!-- Features Section -->
  <section class="section" id="features">
    <h2>Features</h2>
    <div class="features">
      <div class="feature-card">
        <h3>Easy Integration</h3>
        <p>Seamlessly integrate ChatKit into your Webflow site with just a few lines of code.</p>
      </div>
      <div class="feature-card">
        <h3>Beautiful UI</h3>
        <p>A modern, responsive chat interface that matches your brand and delights users.</p>
      </div>
      <div class="feature-card">
        <h3>Powerful AI</h3>
        <p>Leverage OpenAI's advanced AI models to provide intelligent responses to your users.</p>
      </div>
      <div class="feature-card">
        <h3>Customizable</h3>
        <p>Easily customize prompts, themes, and behavior to match your specific use case.</p>
      </div>
      <div class="feature-card">
        <h3>Analytics Ready</h3>
        <p>Built-in hooks for tracking user interactions and gathering valuable insights.</p>
      </div>
      <div class="feature-card">
        <h3>Mobile Optimized</h3>
        <p>Works perfectly on all devices, from desktop to mobile.</p>
      </div>
    </div>
  </section>

  <!-- About Section -->
  <section class="section" id="about">
    <h2>About This Test Page</h2>
    <p style="margin-bottom: 1rem;">
      This page simulates your Webflow site locally, allowing you to test the ChatKit widget integration
      without deploying. You can modify the chat widget behavior by editing your Next.js app code and see
      the changes in real-time.
    </p>
    <p style="margin-bottom: 1rem;">
      The chat bubble in the bottom-right corner opens an iframe that loads your local Next.js app
      (http://localhost:3000). This is the same setup used in your Webflow production site, but pointing
      to your development server instead.
    </p>
    <p>
      Try interacting with different elements on the page to test how the chat widget behaves with your
      actual content. You can test scrolling, overlapping content, mobile responsiveness, and more.
    </p>
  </section>

  <!-- Footer -->
  <footer id="contact">
    <div class="footer-content">
      <div class="footer-section">
        <h3>Company</h3>
        <a href="#">About Us</a>
        <a href="#">Careers</a>
        <a href="#">Press</a>
      </div>
      <div class="footer-section">
        <h3>Product</h3>
        <a href="#">Features</a>
        <a href="#">Pricing</a>
        <a href="#">Documentation</a>
      </div>
      <div class="footer-section">
        <h3>Support</h3>
        <a href="#">Help Center</a>
        <a href="#">Contact Us</a>
        <a href="#">Status</a>
      </div>
      <div class="footer-section">
        <h3>Legal</h3>
        <a href="#">Privacy Policy</a>
        <a href="#">Terms of Service</a>
        <a href="#">Cookie Policy</a>
      </div>
    </div>
  </footer>

  <!-- Chat Widget (from webflow.html) -->
  <!-- Chat Bubble -->
  <div id="chat-bubble"
       style="position: fixed; bottom: 24px; right: 24px; width: 64px; height: 64px; border-radius: 50%; background-color: #007AFF; display: flex; align-items: center; justify-content: center; cursor: pointer; z-index: 9999; box-shadow: 0 4px 12px rgba(0,0,0,0.15); transition: transform 0.3s;"
       onmouseover="this.style.transform='scale(1.1)'"
       onmouseout="this.style.transform='scale(1)'">
    <span style="font-size: 32px;">ðŸ’¬</span>
  </div>

  <!-- Chat iframe (hidden by default) -->
  <iframe id="chat-iframe"
          src="http://localhost:3000/"
          style="display: none; position: fixed; bottom: 100px; right: 24px; width: 400px; height: 600px; border: none; border-radius: 16px; box-shadow: 0 0 24px rgba(0,0,0,0.2); z-index: 9998;">
  </iframe>

  <script>
    const bubble = document.getElementById('chat-bubble');
    const frame = document.getElementById('chat-iframe');
    let open = false;

    bubble.addEventListener('click', () => {
      open = !open;
      frame.style.display = open ? 'block' : 'none';

      // Optional: Log to console for debugging
      console.log('Chat widget', open ? 'opened' : 'closed');
    });

    // Optional: Close on escape key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && open) {
        open = false;
        frame.style.display = 'none';
        console.log('Chat widget closed via Escape key');
      }
    });

    // Optional: Adjust iframe size on mobile
    function adjustChatSize() {
      if (window.innerWidth < 768) {
        frame.style.width = 'calc(100vw - 48px)';
        frame.style.height = 'calc(100vh - 150px)';
        frame.style.right = '24px';
        frame.style.bottom = '100px';
      } else {
        frame.style.width = '400px';
        frame.style.height = '600px';
        frame.style.right = '24px';
        frame.style.bottom = '100px';
      }
    }

    window.addEventListener('resize', adjustChatSize);
    adjustChatSize();
  </script>
</body>
</html>
